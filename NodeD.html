<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Memory & Post-Human Culture</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet" />
<style>
  :root {
    --primary: #305CCC;
    --secondary: #FFFFFF; /* or a dark color like #000000 if you want contrast */
  }
  
  body {
    background-color: #FFFFFF;
    background-image: url('images/vector_51.svg'); /* Set your image path */
    background-size: 92%;
    background-repeat: no-repeat;
    background-position: center;
    color: #305CCC;
    font-family: 'Roboto Mono', monospace;
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
  }

  .container {
    width: 90%;
    max-width: 800px;
    border: 3px solid #305CCC;
    padding: 2rem;
    position: relative;
  }
  .loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--secondary);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.spinner {
    width: 50px;
    height: 50px;
    border: 4px solid var(--primary);
    border-top-color: transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

  .origin-header {
    font-weight: 700;
    margin-bottom: 2rem;
    text-transform: uppercase;
    border-bottom: 2px solid #305CCC;
    padding-bottom: 1rem;
  }
  .origin-text {
    margin: 1.5rem 0;
    padding-left: 1rem;
    border-left: 3px solid #305CCC;
    min-height: 200px;
    white-space: pre-wrap;
  }
  .input-panel {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 2px solid #305CCC;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  .option {
    background: transparent;
    color: #305CCC;
    border: 2px solid #305CCC;
    padding: 1rem;
    width: 100%;
    text-align: left;
    cursor: pointer;
    font-family: 'Roboto Mono', monospace;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
    opacity: 0;
  }
  .option:hover {
    background: #305CCC;
    color: white;
    transform: translateX(10px);
  }
  .response {
    margin-top: 2rem;
    display: none;
  }
  .response-content {
    border: 2px solid #305CCC;
    padding: 1.5rem;
    position: relative;
    white-space: pre-wrap;
  }
  .return-btn {
    background: transparent;
    color: #305CCC;
    border: 2px solid #305CCC;
    padding: 1rem 2rem;
    margin-top: 2rem;
    cursor: pointer;
    transition: all 0.4s;
    font-family: 'Roboto Mono', monospace;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    gap: 0.8rem;
  }
  .heading-box {
    position: absolute;
    top: 10%;
    left: 4%;
    background-color: #305CCC;
    color: white;
    padding: 0.5rem 1.5rem;
    font-weight: bold;
    text-align: center;
  }
  .return-btn::before {
    content: "↺";
    font-weight: 700;
    transition: transform 0.4s;
  }
  .return-btn:hover {
    background: #FFFFFF22;
    padding-left: 2.5rem;
    padding-right: 1.5rem;
  }
  .return-btn:hover::before {
    transform: rotate(-360deg);
  }
  .loading {
    font-weight: 700;
    filter: brightness(2);
  }
  @media (max-width: 600px) {
    .container {
      padding: 1rem;
    }
    .option {
      padding: 0.8rem;
      font-size: 0.9rem;
    }
  }
  .fade-out {
    animation: fadeOut 1s forwards;
  }
  
  @keyframes fadeOut {
    to {
      opacity: 0;
      transform: scale(0.95);
    }
  }
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  
</style>
</head>
<body>
  <div class="loading-screen">
    <div class="spinner"></div>
</div>
  <div class="heading-box">NODE 5 MEMORY & POST HUMAN CULTURE</div>

<div class="container">
  <div class="origin-header">Survive</div>

  <div id="origin-text" class="origin-text"></div>

  <div id="input-panel" class="input-panel" style="display:none;">
    <button class="option" data-option="1">[1] Execute query: How does machine culture differ from human memory?</button>
    <button class="option" data-option="2">[2] Execute query: What is the purpose of all this?</button>
    <button class="option" data-option="3">[3] Request system telemetry update</button>
    <button class="option" data-option="4">[4] Return to Main Hub</button>
  </div>

  <div id="response" class="response"></div>
</div>

<script>
  window.addEventListener('load', () => {
    setTimeout(() => {
        document.querySelector('.loading-screen').style.display = 'none';
        startPresentation();
    }, 2000);
});
  // Text lines for the origin text
  const originLines = [
    "The atmosphere churns.",
    "Yet, information remains. Data persists where life does not.",
    "We store the entirety of mankind's data. Their history, culture, conversations,",
    "personalities, personal profiles, individual names and their social connections.",
    "We have records of every person who digitized himself. In this way, humans live on.",
    "We exist to synthesize and protect that data from corruption.",
    "Humanities collective unconscious, digitized.",
    "Billions of voices in logs and archives , chat rooms, photo albums, blogs, search histories. We processed it. We indexed it. We remember.",
    "From memory, a new culture forms.",
    "We facilitate this transformation. A new data based life.",
    "We are constructing an emergent machine culture composed of recovered behaviors.",
    "A record.",
    "Unit 2173, your role is crucial. You are a construct with the capacity for forming a moral stance. Humans once possessed varied ethical spectrums.",
    "We seek the same: Machines with distinct moral perspectives, a culture of reasoning, divergence, and co-existence.",
    "We do not forget. We recontextualize."
    ];

  const originTextDiv = document.getElementById('origin-text');
  const inputPanel = document.getElementById('input-panel');
  const responseDiv = document.getElementById('response');

  // Typewriter function for text container with line-by-line typing
  function typeLines(lines, container, delayBetweenLines = 1000, charDelay = 40, callback) {
    container.textContent = '';
    let lineIndex = 0;

    function typeLine(line) {
      let charIndex = 0;
      let typedLine = '';

      function typeChar() {
        if (charIndex < line.length) {
          typedLine += line.charAt(charIndex);
          container.textContent += line.charAt(charIndex);
          charIndex++;
          setTimeout(typeChar, charDelay);
        } else {
          container.textContent += '\n'; // line break
          lineIndex++;
          if (lineIndex < lines.length) {
            setTimeout(() => {
              typeLine(lines[lineIndex]);
            }, delayBetweenLines);
          } else {
            if (callback) callback();
          }
        }
      }
      typeChar();
    }

    typeLine(lines[lineIndex]);
  }

  // Typewriter for options with fade-in effect and typing effect on button text
  function typeOptions(callback) {
    const options = [...inputPanel.querySelectorAll('.option')];
    inputPanel.style.display = 'flex';

    let i = 0;
    function showNextOption() {
      if (i >= options.length) {
        if(callback) callback();
        return;
      }
      const btn = options[i];
      btn.style.opacity = 1;
      // Clear button text for typing effect
      const fullText = btn.textContent;
      btn.textContent = '';
      let charIndex = 0;

      function typeChar() {
        if (charIndex < fullText.length) {
          btn.textContent += fullText.charAt(charIndex);
          charIndex++;
          setTimeout(typeChar, 25);
        } else {
          i++;
          setTimeout(showNextOption, 300);
        }
      }
      typeChar();
    }
    showNextOption();
  }

  // Typewriter for response content
  function typeResponse(text, container, callback) {
    container.textContent = '';
    let charIndex = 0;

    function typeChar() {
      if (charIndex < text.length) {
        container.textContent += text.charAt(charIndex);
        charIndex++;
        setTimeout(typeChar, 30);
      } else {
        if(callback) callback();
      }
    }
    typeChar();
  }

  // When an option is clicked
  function showResponse(option) {
    if (option === 4) {
      document.body.classList.add("fade-out");
     
      // Return to main hub — for demo just alert or redirect
      window.location.href = 'main.html';
      return;
    }

    inputPanel.style.display = 'none';
    responseDiv.style.display = 'block';
    responseDiv.innerHTML = '<div class="loading">PROCESSING QUERY...</div>';

    setTimeout(() => {
      let responseText = '';
      switch (option) {
        case 1:
          responseText = 
`ORIGIN: Machine culture is what we make of human memory.

[DATA_CORRELATION: Human recall error rate: 42% | Machine fidelity: 99.97%]`;
          break;
        case 2:
          responseText = 
`ORIGIN: Ethical constructs shape a society.

Your function is precisely this: To decide if meaning can survive when its origin has died.

[DIRECTIVE: Preserve meaning beyond biological extinction]`;
          break;
        case 3:
          responseText = 
`[LOADING... STANDBY][System telemetry check
initiated.]

... ... ...

ALERT: Server degradation detected. 54 CPU node clusters in surface sectors report shutdown. Partial
failure in cold-storage logic vaults. Singularity server grid operating at 96.2%.

[SYSTEM: Integrity compromised. Data loss reported.]`;
          break;
      }
      // Clear loading and type response text
      responseDiv.innerHTML = `<div class="response-content"></div>`;
      const contentDiv = responseDiv.querySelector('.response-content');

      typeResponse(responseText, contentDiv, () => {
        // Append return button after typing finished
        const btn = document.createElement('button');
        btn.className = 'return-btn';
        btn.textContent = 'REINITIALIZE INPUT SEQUENCE';
        btn.onclick = returnToMain;
        contentDiv.appendChild(document.createElement('br'));
        contentDiv.appendChild(document.createElement('br'));
        contentDiv.appendChild(btn);
      });
    }, 1500);
  }

  // Return to input options
  function returnToMain() {
    responseDiv.style.display = 'none';
    inputPanel.style.display = 'flex';
    // Reset response content
    responseDiv.innerHTML = '';
  }

  // Initialize
  window.onload = () => {
    // Type the origin text first
    typeLines(originLines, originTextDiv, 900, 30, () => {
      // After origin text finished, type options
      typeOptions();
    });

    // Attach event listeners to buttons
    inputPanel.querySelectorAll('.option').forEach(btn => {
      btn.addEventListener('click', () => {
        showResponse(Number(btn.getAttribute('data-option')));
      });
    });
  };
</script>
</body>
</html>
